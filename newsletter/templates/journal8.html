<!DOCTYPE html>
{% load static%}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reflection - Annastacia Wainaina</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'assets/ 
            $clean = $args[0].ToLower() -replace '[ +]', '_' -replace '[^a-z0-9._-]', ''
            return $clean
        ' %}">
    <!-- For better browser support -->
    <link rel="shortcut icon" href="{% static 'assets/ 
            $clean = $args[0].ToLower() -replace '[ +]', '_' -replace '[^a-z0-9._-]', ''
            return $clean
        ' %}" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'assets/ 
            $clean = $args[0].ToLower() -replace '[ +]', '_' -replace '[^a-z0-9._-]', ''
            return $clean
        ' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'assets/ 
            $clean = $args[0].ToLower() -replace '[ +]', '_' -replace '[^a-z0-9._-]', ''
            return $clean
        ' %}">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
           --primary: #1a1a1a;
            --secondary: #4a5568;
            --accent: #c53030; /* Chocolate */
            --light: #F5F5DC; /* Beige */
            --dark: #3E2723; /* Dark Brown */
            --text: #5D4037; /* Brown Text */
            --text-light: #8D6E63; /* Light Brown Text */
            --paper: #FDF5E6; /* Old Paper Color */

        
        }

        body {
            background-color: var(--light);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: color 0.3s ease;
        }

        ul {
            list-style: none;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: var(--primary);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-secondary:hover {
            background-color: var(--accent);
            color: white;
        }

         /* Header & Navigation */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }

        .logo {
              display: inline-flex;
  align-items: center;
  text-decoration: none;
  font-family: 'Chela One', cursive;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .logo img {
  max-height: 60px;   /* keeps it proportional to navbar */
  width: auto;        /* maintains aspect ratio */
  height: auto;       /* makes it shrink naturally */
  object-fit: contain;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

/* Hover effect */
.logo:hover img {
  transform: scale(1.05);
}

/* Tablet screens */
@media (max-width: 768px) {
  .logo img {
    max-height: 50px;
  }
}

/* Mobile screens */
@media (max-width: 480px) {
  .logo img {
    max-height: 40px;
  }
}

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            margin: 0;
            padding: 0;
        }

        .nav-item {
              position: relative;
            margin-left: 30px;
        }

        .nav-link {
            color: var(--primary);
            transition: var(--transition);
            position: relative;
            text-decoration: none;
            font-family: 'Poppins', sans-serif;
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 5px;
        }

        .nav-link i {
             font-size: 0.8rem;
             transition: transform 0.3s ease;
        }

        .nav-link:hover {
            color: var(--accent);
        }

        .nav-link.active {
            color: var(--accent);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--accent);
        }

        
/* Dropdown menu hidden by default */
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  list-style: none;
  margin: 10px 0 0;
  padding: 10px 0;
  min-width: 200px;
  display: none;
  z-index: 999;
}

.dropdown-menu li a {
  display: block;
  padding: 10px 20px;
  text-decoration: none;
  color: #333;
  font-size: 0.95rem;
  transition: background 0.2s;
}

.dropdown-menu li a:hover {
  background: #f5f5f5;
  color: #c53030;
}

/* Show dropdown on hover */
.nav-item:hover .dropdown-menu {
  display: block;
}

/* Rotate chevron when open */
.nav-item:hover .nav-link i {
  transform: rotate(180deg);
}

/* Mobile-friendly tweak */
@media (max-width: 768px) {
  .nav-menu {
    flex-direction: column;
    align-items: center;   /* center the links horizontally */
    gap: 15px;
    width: 100%;
  }

  .dropdown-menu {
    position: static;
    box-shadow: none;
    margin: 0;
    padding-left: 0; /* reset left indent */
    text-align: center;   /* center dropdown links */
  }

  .dropdown-menu li a {
    padding: 10px;  /* equal padding */
    display: block;
  }
}
        .cart-icon {
            display: flex;
            color: #c53030;
            align-items: center;
            margin-left: 30px;
            font-weight: 500;
        }

        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        /* Journal Hero */
        .journal-hero {
            background: linear-gradient(var(--accent) , rgba(139, 69, 19, 0.9)), url('https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            margin-top: 60px;
            padding: 80px 0;
            text-align: center;
        }

        .journal-hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .journal-hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
        }

        /* Journal Content */
        .journal-content {
            padding: 80px 0;
        }

        .journal-article {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--paper);
            padding: 60px;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .journal-title {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .journal-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light);
        }

        .journal-date {
            font-size: 1rem;
            color: var(--text-light);
            font-weight: 500;
        }

        .journal-category {
            background-color: var(--accent);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .journal-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text);
        }

        .journal-text p {
            margin-bottom: 25px;
        }

        .journal-text p:first-child:first-letter {
            float: left;
            font-size: 4rem;
            line-height: 1;
            margin: 0.1em 0.1em 0.1em 0;
            color: var(--primary);
            font-weight: bold;
        }

        .highlight-box {
            background-color: var(--light);
            border-left: 4px solid var(--accent);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 8px 8px 0;
        }

        .highlight-box p {
            margin-bottom: 0;
            font-style: italic;
        }

        .journal-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #e0d6c5;
        }

        .social-share {
            display: flex;
            gap: 15px;
        }

        .social-share a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--light);
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-share a:hover {
            background-color: var(--accent);
            color: white;
            transform: translateY(-3px);
        }

        

        /* Newsletter */
        .newsletter {
            padding: 80px 0;
            background-color: var(--light);
            text-align: center;
        }

        .newsletter-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .newsletter h2 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .newsletter p {
            margin-bottom: 30px;
            color: var(--text);
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-form input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            font-size: 1rem;
        }

        .newsletter-form button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 0 25px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .newsletter-form button:hover {
            background-color: var(--primary);
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--light);
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 2px;
            background-color: var(--accent);
            bottom: 0;
            left: 0;
        }

        .footer-links li {
            margin-bottom: 12px;
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background-color: var(--accent);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .journal-article {
                padding: 40px;
            }
            
            .journal-hero h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background-color: white;
                width: 100%;
                text-align: center;
                transition: var(--transition);
                box-shadow: var(--shadow);
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-item {
                margin: 15px 0;
            }
            
            .hamburger {
                display: block;
            }
            
            .journal-hero {
                padding: 60px 0;
            }
            
            .journal-hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .journal-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .journal-actions {
                flex-direction: column;
                gap: 20px;
            }
            
            .newsletter-form {
                flex-direction: column;
                gap: 10px;
            }
            
            .newsletter-form input,
            .newsletter-form button {
                width: 100%;
                border-radius: 4px;
            }
        }

        @media (max-width: 576px) {
            .journal-hero {
                padding: 50px 0;
            }
            
            .journal-hero h1 {
                font-size: 1.8rem;
            }
            
            .journal-article {
                padding: 30px 20px;
            }
            
            .journal-title {
                font-size: 1.8rem;
            }
            
            .journal-text {
                font-size: 1rem;
            }
        }

                      .btn {
            text-decoration: none;
        }

        ul {
            list-style: none;
        }
    </style>
</head>
<body>
     <!-- Header & Navigation -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">
                <img src="{% static "assets/ 
            $clean = $args[0].ToLower() -replace '[ +]', '_' -replace '[^a-z0-9._-]', ''
            return $clean
        " %}" alt="Annastacia Wainaina Logo">
            </a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="{% url 'home' %}" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="{% url 'about' %}" class="nav-link">About</a></li>
                <li class="nav-item dropdown">
                    <a href="{% url 'speaking' %}" class="nav-link">MyServices<i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'speaking' %}">Speaking</a></li>
                        <li><a href="{% url 'leadership_consultancy' %}">Leadership Consultancy</a></li>
                        <li><a href="{% url 'leadership_coaching' %}">Leadership Coaching</a></li>
                        <li><a href="{% url 'leadership_workshops' %}">Leadership Workshops</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a href="{% url 'shop' %}" class="nav-link">Shop</a></li>
                <li class="nav-item"><a href="{% url 'journal' %}" class="nav-link active">Journal</a></li>
                <li class="nav-item"><a href="{% url 'podcast' %}" class="nav-link">PODCAST</a></li>
                <li class="nav-item"><a href="{% url 'contact' %}" class="nav-link">Contact</a></li>
                <li class="nav-item cart-icon"><i class="fas fa-shopping-cart"></i>Cart</li>
            </ul>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    <!-- Journal Hero -->
    <section class="journal-hero">
        <div class="container">
            <h1>Reflection</h1>
            <p>Finding clarity and purpose through thoughtful introspection</p>
        </div>
    </section>

    <!-- Journal Content -->
    <section class="journal-content">
        <div class="container">
            <article class="journal-article">
                <h1 class="journal-title">Finding Strength in Reflection During Turbulent Times</h1>
                
                <div class="journal-meta">
                    <div class="journal-date">July 6, 2021</div>
                    <div class="journal-category">Personal Growth</div>
                </div>
                
                <div class="journal-text">
                    <p>What a turbulent moment we are all experiencing globally. Just when we think our lives are getting back to a level of normalcy, then it all changes. COVID-19 has had a significant effect on our lives globally. Not being able to travel freely as we have previously done, visit friends even they're just a few blocks away, see relatives and spend time with them; lockdown had a significant effect mentally on people - mostly negative. The instability for businesses had a huge impact economically on both business owners and countries globally. Meaning we are mostly living on the edge, literally and metaphorically.</p>
                    
                    <p>For most of us, our life is lived on the edge with lots of instabilities and uncertainties of not knowing what tomorrow holds. In a relationship where we are not valued or where we are just not sure. In a job where we are unstimulated but we hold on because we need a job. Torn between making time for our children or sending them to daycare and working. Every day we are faced with lots of choices and we find ourselves sometimes exhausted, and if not careful we fall into the traps of just merely surviving yet we know we are created to thrive.</p>
                    
                    <div class="highlight-box">
                        <p>Reflection offers us an opportunity to give ourselves feedback on all areas of our lives and that means an opportunity to recommit to ourselves and to reset for the next phase.</p>
                    </div>
                    
                    <p>Similarly, when we have a goal/vision and we know we want to achieve but we are held back or never quite get there. So many hesitations - If we write a book will someone read it? If we start a business will we lose ourselves in it, will it succeed? The fear of the unknown and/or success holds us back. How many know the drive we started the year with? We've had lots of plans. Next thing we know it's already July, half of the year gone and caught ourselves tired and exhausted.</p>
                    
                    <p>I'm here to say it doesn't have to be that way in both my coaching session with my clients, on the online course, or in the book ignite "Blazing the Eternal Fire Inside of You". I spend time discussing this very effective tool called "Reflection". I always urge people to stop, breathe, and look into your life.</p>
                    
                    <p>Reflect on what worked or what didn't. The lessons you learnt and what you need to get to the next level. The people you need to let go of and the ones you need to embrace for the next phase of your year, life, day or month. Reflection offers us an opportunity to give ourselves feedback on all areas of our lives and that means an opportunity to recommit to ourselves and to reset for the next phase.</p>
                    
                    <p>Reflection gives an opportunity to meet where we are at and to acknowledge those parts of our lives that we don't often see. Reflection offers an opportunity for us to really be raw and honest with ourselves. Reflection helps us to unwind and deal with situations. We don't live looking at the rearview mirror of our life but instead, we face the past, focus on the now and plan for the future.</p>
                    
                    <p>Join me as we reflect this month on what the first half of 2021 has been, focus on right now and plan for the next half.</p>
                </div>
                
                <div class="journal-actions">
                    <div class="social-share">
                        <span>Share this article:</span>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fas fa-link"></i></a>
                    </div>
                    <a href="{% url 'journal' %}" class="btn">Explore More Journals</a>
                </div>
            </article>
        </div>
    </section>

    

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Join My Newsletter</h2>
                <p>Receive exclusive insights, journal entries, and updates on upcoming workshops and events.</p>
                <form class="newsletter-form" method="post">
                    <input type="email" name="email" placeholder="Your email address" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

   <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="footer-logo">Annastacia Wainaina</div>
                    <p>Leadership consultant, coach, and creator of the Freedom Fires process.</p>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                      <li><a href="{% url 'about' %}">ABOUT</a></li>
                        <li><a href="{% url 'speaking' %}">SPEAKING</a></li>
                        <li><a href="{% url 'journal' %}">JOURNAL</a></li>
                        <li><a href="{% url 'podcast' %}">PODCAST</a></li>
                        <li><a href="{% url 'shop' %}">COURSES</a></li>
                        <li><a href="{% url 'contact' %}">CONTACT</a></li>
                    </ul>
                </div>
                <div class="footer-links" data-aos="fade-up" data-aos-delay="200">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="{% url 'leadership_consultancy' %}">Leadership Consultancy</a></li>
                        <li><a href="{% url 'leadership_coaching' %}">Leadership Coaching</a></li>
                        <li><a href="{% url 'leadership_workshops' %}">Leadership Workshops</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Connect</h3>
                    <ul>
                        <li><a href="https://www.linkedin.com/in/annastacia-wainaina-9bbba33b/"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                        <li><a href="https://www.instagram.com/annastaciawainaina/"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="https://www.facebook.com/annastaciaw"><i class="fab fa-facebook"></i> Facebook</a></li>
                        
                    </ul>
                </div>
            </div>
      
           <div class="footer-bottom">
  <p>
    © <span id="year"></span> Annastacia Wainaina. All Rights Reserved. 
    | Developed by <a href="https://alphacodesolutions.netlify.app" target="_blank" rel="noopener noreferrer" style="color: #F7DF1E; font-weight: 500; text-decoration: none;">AlphaCode Solutions</a>
  </p>
</div>

<script>
  // Auto-update copyright year
  document.getElementById("year").textContent = new Date().getFullYear();

    // Navbar dropdown
document.addEventListener("DOMContentLoaded", () => {
  const dropdown = document.querySelector(".nav-item.dropdown");
  const menu = dropdown.querySelector(".dropdown-menu");
  let closeTimer;

  // Show immediately on hover
  dropdown.addEventListener("mouseenter", () => {
    clearTimeout(closeTimer);
    menu.style.display = "block";
  });

  // Delay hiding when mouse leaves
  dropdown.addEventListener("mouseleave", () => {
    closeTimer = setTimeout(() => {
      menu.style.display = "none";
    }, 400); // delay in ms (here: 0.5s)
  });
});
</script>

        </div>
    </footer>

    <script>
    // Mobile Navigation Toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });


          // Share buttons functionality
             document.addEventListener("DOMContentLoaded", function () {
        const pageUrl = encodeURIComponent(window.location.href);
        const pageTitle = encodeURIComponent(document.title);

        document.querySelector('.social-share a:nth-child(2)').href = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
        document.querySelector('.social-share a:nth-child(3)').href = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
        document.querySelector('.social-share a:nth-child(4)').href = `https://www.linkedin.com/shareArticle?mini=true&url=${pageUrl}&title=${pageTitle}`;
        
        // Copy Link Button (last one)
        document.querySelector('.social-share a:nth-child(5)').addEventListener('click', function (e) {
            e.preventDefault();
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert("Link copied to clipboard!");
            });
        });
    });
    </script>

    <script>
/* CSRF helper from Django docs */
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      cookie = cookie.trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

document.addEventListener('DOMContentLoaded', () => {
  const csrftoken = getCookie('csrftoken');

  // Newsletter forms
  document.querySelectorAll('.newsletter-form').forEach(form => {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const emailInput = form.querySelector('input[name="email"]');
      const email = emailInput.value.trim();
      if (!email) { alert('Please enter your email'); return; }

      const data = new URLSearchParams();
      data.append('email', email);
      data.append('source', window.location.pathname);

      try {
        const res = await fetch('/subscribe/', {
          method: 'POST',
          body: data.toString(),
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
            'X-CSRFToken': csrftoken
          },
          credentials: 'same-origin'
        });
        const json = await res.json();
        if (json.success) {
          alert(json.message || 'Subscribed!');
          form.reset();
        } else {
          alert(json.error || 'Subscription failed.');
        }
      } catch (err) {
        console.error(err);
        alert('Network error — please try again later.');
      }
    });
  });

  // Contact forms
  document.querySelectorAll('.contact-form').forEach(form => {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      // Validate basic client-side
      const required = ['full_name','email','message'];
      for (let r of required) {
        if (!fd.get(r) || fd.get(r).trim() === '') {
          alert('Please fill required fields');
          return;
        }
      }
      try {
        const res = await fetch('/contact/submit/', {
          method: 'POST',
          body: new URLSearchParams(fd),
          headers: {'X-CSRFToken': csrftoken},
          credentials: 'same-origin'
        });
        const json = await res.json();
        if (json.success) {
          alert(json.message || 'Message sent!');
          form.reset();
        } else {
          alert(json.error || 'Failed to send message.');
        }
      } catch (err) {
        console.error(err);
        alert('Network error — please try again later.');
      }
    });
  });
});
</script>

</body>
</html>
