<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nurturing a Safe Space - Annastacia Wainaina</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'assets/favicon.png' %}">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Chela+One&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">  
  
    <style>
        /* CSS Reset and Variables */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a1a1a;
            --secondary: #4a5568;
            --accent: #c53030;
            --light: #f7fafc;
            --dark: #2d3748;
            --transition: all 0.3s ease;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --radius: 8px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--primary);
            background-color: var(--light);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background-color: #a53030;
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-outline:hover {
            background-color: var(--accent);
            color: white;
        }

        section {
            padding: 80px 0;
        }

         /* Header & Navigation */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }

        .logo {
              display: inline-flex;
  align-items: center;
  text-decoration: none;
  font-family: 'Chela One', cursive;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .logo img {
  max-height: 60px;   /* keeps it proportional to navbar */
  width: auto;        /* maintains aspect ratio */
  height: auto;       /* makes it shrink naturally */
  object-fit: contain;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

/* Hover effect */
.logo:hover img {
  transform: scale(1.05);
}

/* Tablet screens */
@media (max-width: 768px) {
  .logo img {
    max-height: 50px;
  }
}

/* Mobile screens */
@media (max-width: 480px) {
  .logo img {
    max-height: 40px;
  }
}

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            margin: 0;
            padding: 0;
        }

        .nav-item {
              position: relative;
            margin-left: 30px;
        }

        .nav-link {
            color: var(--primary);
            transition: var(--transition);
            position: relative;
            text-decoration: none;
            font-family: 'Poppins', sans-serif;
  font-size: 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 5px;
        }

        .nav-link i {
             font-size: 0.8rem;
             transition: transform 0.3s ease;
        }

        .nav-link:hover {
            color: var(--accent);
        }

        .nav-link.active {
            color: var(--accent);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--accent);
        }

        
/* Dropdown menu hidden by default */
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  list-style: none;
  margin: 10px 0 0;
  padding: 10px 0;
  min-width: 200px;
  display: none;
  z-index: 999;
}

.dropdown-menu li a {
  display: block;
  padding: 10px 20px;
  text-decoration: none;
  color: #333;
  font-size: 0.95rem;
  transition: background 0.2s;
}

.dropdown-menu li a:hover {
  background: #f5f5f5;
  color: #c53030;
}

/* Show dropdown on hover */
.nav-item:hover .dropdown-menu {
  display: block;
}

/* Rotate chevron when open */
.nav-item:hover .nav-link i {
  transform: rotate(180deg);
}

/* Mobile-friendly tweak */
@media (max-width: 768px) {
  .nav-menu {
    flex-direction: column;
    align-items: center;   /* center the links horizontally */
    gap: 15px;
    width: 100%;
  }

  .dropdown-menu {
    position: static;
    box-shadow: none;
    margin: 0;
    padding-left: 0; /* reset left indent */
    text-align: center;   /* center dropdown links */
  }

  .dropdown-menu li a {
    padding: 10px;  /* equal padding */
    display: block;
  }
}
        .cart-icon {
            display: flex;
            color: #c53030;
            align-items: center;
            margin-left: 30px;
            font-weight: 500;
        }

        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        /* Article Hero Section */
        .article-hero {
            background: aqua;
            padding: 150px 0 60px;
            text-align: center;
        }

        .article-hero h1 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            line-height: 1.3;
        }

        .article-meta {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            color: var(--secondary);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .article-date {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Article Content */
        .article-content {
            background-color: white;
            padding: 80px 0;
        }

        .article-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .article-intro {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 3rem;
            line-height: 1.8;
            font-weight: 500;
            border-left: 4px solid var(--accent);
            padding-left: 20px;
        }

        .article-body {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--primary);
        }

        .article-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .article-text {
            margin-bottom: 1.5rem;
            color: var(--secondary);
        }

        .highlight-box {
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent);
            padding: 25px;
            margin: 2rem 0;
            border-radius: 0 var(--radius) var(--radius) 0;
        }

        .highlight-text {
            font-size: 1.1rem;
            color: var(--dark);
            font-style: italic;
            line-height: 1.7;
        }

        .conclusion {
            background-color: #f8f9fa;
            padding: 40px;
            border-radius: var(--radius);
            margin-top: 4rem;
            border: 1px solid #eaeaea;
        }

        .conclusion-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            text-align: center;
        }

        /* Article Actions */
        .article-actions {
            background-color: white;
            padding: 40px 0;
            border-top: 1px solid #eaeaea;
            border-bottom: 1px solid #eaeaea;
        }

        .actions-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .share-buttons {
            display: flex;
            gap: 15px;
        }

        .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background-color: #f8f9fa;
            border-radius: 50%;
            color: var(--secondary);
            transition: var(--transition);
            text-decoration: none;
        }

        .share-btn:hover {
            background-color: var(--accent);
            color: white;
            transform: translateY(-2px);
        }

      

        /* Newsletter Section */
        .newsletter {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 80px 0;
        }

        .newsletter .section-title-main {
            color: white;
        }

        .newsletter-subtitle {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
            margin: 0 auto 3rem;
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--radius) 0 0 var(--radius);
            font-size: 1rem;
        }

        .newsletter-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 0 25px;
            border-radius: 0 var(--radius) var(--radius) 0;
            cursor: pointer;
            font-weight: 600;
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .footer-links h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links ul li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            transition: var(--transition);
            text-decoration: none;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }



        /* Responsive Design */
        @media (max-width: 992px) {
            .articles-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .footer-grid {
                grid-template-columns: 1fr 1fr;
            }
            
         
        }

        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background-color: white;
                width: 100%;
                text-align: center;
                transition: var(--transition);
                box-shadow: var(--shadow);
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-item {
                margin: 15px 0;
            }
            
            .hamburger {
                display: block;
            }
            
            .article-hero h1 {
                font-size: 2.5rem;
            }
            
            .actions-container {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .articles-grid {
                grid-template-columns: 1fr;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .newsletter-input {
                border-radius: var(--radius);
                margin-bottom: 10px;
            }
            
            .newsletter-btn {
                border-radius: var(--radius);
                padding: 12px;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .section-title-main {
                font-size: 2rem;
            }
            
            .article-hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
        }
        
              .btn {
            text-decoration: none;
        }

        ul {
            list-style: none;
        }
    </style>
</head>
<body>
       <!-- Header & Navigation -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">
                <img src="{% static 'assets/AW+Primary+Logo.webp' %}" alt="Annastacia Wainaina Logo">
            </a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="{% url 'home' %}" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="{% url 'about' %}" class="nav-link">About</a></li>
                <li class="nav-item dropdown">
                    <a href="{% url 'speaking' %}" class="nav-link">MyServices<i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'speaking' %}">Speaking</a></li>
                        <li><a href="{% url 'leadership_consultancy' %}">Leadership Consultancy</a></li>
                        <li><a href="{% url 'leadership_coaching' %}">Leadership Coaching</a></li>
                        <li><a href="{% url 'leadership_workshops' %}">Leadership Workshops</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a href="{% url 'shop' %}" class="nav-link">Shop</a></li>
                <li class="nav-item"><a href="{% url 'journal' %}" class="nav-link active">Journal</a></li>
                <li class="nav-item"><a href="{% url 'podcast' %}" class="nav-link">PODCAST</a></li>
                <li class="nav-item"><a href="{% url 'contact' %}" class="nav-link">Contact</a></li>
                <li class="nav-item cart-icon"><i class="fas fa-shopping-cart"></i>Cart</li>
            </ul>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Article Hero Section -->
    <section class="article-hero">
        <div class="container">
            <h1>Nurturing a Safe Space: Leading Your Organization Post-No Referendum in Australia</h1>
            <div class="article-meta">
                <div class="article-date">
                    <i class="far fa-calendar"></i>
                    <span>October 17, 2023</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Article Content -->
    <section class="article-content">
        <div class="container article-container">
            <div class="article-intro">
                The recent No referendum in Australia has undoubtedly sparked intense emotions and discussions across the nation. As leaders, it is our responsibility to navigate the aftermath of this divisive event and foster a safe space within our organizations. Creating an environment that promotes respect, inclusivity, and open dialogue is crucial for fostering unity and psychological safety. This article aims to provide insights and strategies for leaders to hold a safe space in their organizations moving forward.
            </div>

            <div class="article-body">
                <div class="article-section">
                    <h2 class="section-title">
                        <span class="section-number">1</span>
                        Embrace Diversity and Inclusion
                    </h2>
                    <p class="article-text">
                        In the aftermath of a contentious referendum, it is essential to emphasize the importance of diversity and inclusion within your organization. Make a commitment to recognize and celebrate the unique perspectives, backgrounds, and experiences of your team members.
                    </p>
                    <p class="article-text">
                        Encourage open discussions about the referendum, inviting everyone to respectfully express their thoughts and feelings, regardless of their stance. This inclusivity will foster an environment where all employees feel valued, regardless of their political beliefs.
                    </p>
                </div>

                <div class="article-section">
                    <h2 class="section-title">
                        <span class="section-number">2</span>
                        Encourage Open Dialogue
                    </h2>
                    <p class="article-text">
                        Create platforms for open dialogue and active listening within your organization. Organize town hall meetings, focus groups, or small group discussions to provide opportunities for employees to express their thoughts and concerns.
                    </p>
                    <p class="article-text">
                        Encourage respectful conversations that allow different viewpoints to be heard and understood. As a leader, model active listening by acknowledging and validating different perspectives, ensuring that all opinions are given equal space.
                    </p>
                </div>

                <div class="highlight-box">
                    <p class="highlight-text">
                        "Psychological safety is crucial for creating a safe space within your organization. Encourage employees to speak up, share their ideas, and ask questions without fear of judgment or retaliation."
                    </p>
                </div>

                <div class="article-section">
                    <h2 class="section-title">
                        <span class="section-number">3</span>
                        Promote Psychological Safety
                    </h2>
                    <p class="article-text">
                        Psychological safety is crucial for creating a safe space within your organization. Encourage employees to speak up, share their ideas, and ask questions without fear of judgment or retaliation.
                    </p>
                    <p class="article-text">
                        Foster an environment where mistakes are treated as opportunities for growth and learning rather than sources of shame or blame. Encourage feedback and make it clear that differing opinions are not only welcome but necessary for innovation and progress.
                    </p>
                </div>

                <div class="article-section">
                    <h2 class="section-title">
                        <span class="section-number">4</span>
                        Provide Support and Resources
                    </h2>
                    <p class="article-text">
                        Acknowledge that the referendum and its aftermath can be emotionally challenging for some employees. Offer support and resources to help individuals navigate their feelings and emotions.
                    </p>
                    <p class="article-text">
                        Consider providing access to counseling services, employee assistance programs, or other mental health resources. By demonstrating empathy and compassion, leaders can create an environment where employees feel safe to seek support when needed.
                    </p>
                </div>

                <div class="article-section">
                    <h2 class="section-title">
                        <span class="section-number">5</span>
                        Lead by Example
                    </h2>
                    <p class="article-text">
                        As a leader, it is crucial to lead by example and demonstrate the behaviors you expect from others. Show respect for diverse viewpoints, even if they differ from your own.
                    </p>
                    <p class="article-text">
                        Be open to learning from others and be willing to change your perspective based on new information. Create a culture where differing opinions are valued and respected, and where conflicts are resolved through constructive dialogue rather than personal attacks.
                    </p>
                </div>

                <div class="conclusion">
                    <h3 class="conclusion-title">Conclusion</h3>
                    <p class="article-text">
                        In the aftermath of the No referendum in Australia, leaders have a unique opportunity to foster a safe space within their organizations. By embracing diversity, encouraging open dialogue, promoting psychological safety, providing support, and leading by example, leaders can create an environment where employees feel respected, valued, and included.
                    </p>
                    <p class="article-text">
                        This safe space will enable constructive conversations, encourage collaboration, and ultimately, contribute to the growth and success of the organization as a whole.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Article Actions -->
    <section class="article-actions">
        <div class="container">
            <div class="actions-container">
                <a href="{% url 'journal' %}" class="btn btn-outline">
                    <i class="fas fa-arrow-left"></i> Back to Journal
                </a>
                <div class="share-buttons">
                    SHARE THIS ARTICLE:
                    <a href="#" class="share-btn">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="share-btn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="#" class="share-btn">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="share-btn">
                        <i class="fas fa-link"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

  
    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="container">
            <h2 class="section-title-main">Stay Connected</h2>
            <p class="newsletter-subtitle">Get the latest journal articles, leadership insights, and podcast episodes delivered to your inbox.</p>
            
            <form class="newsletter-form" method="post">
                <input type="email" name="email" class="newsletter-input" placeholder="Enter your email address" required>
                <button type="submit" class="newsletter-btn">SUBSCRIBE</button>
            </form>
        </div>
    </section>

 <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="footer-logo">Annastacia Wainaina</div>
                    <p>Leadership consultant, coach, and creator of the Freedom Fires process.</p>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="{% url 'about' %}">ABOUT</a></li>
                        <li><a href="{% url 'speaking' %}">SPEAKING</a></li>
                        <li><a href="{% url 'journal' %}">JOURNAL</a></li>
                        <li><a href="{% url 'podcast' %}">PODCAST</a></li>
                        <li><a href="{% url 'shop' %}">COURSES</a></li>
                        <li><a href="{% url 'contact' %}">CONTACT</a></li>
                    </ul>
                </div>
                <div class="footer-links" data-aos="fade-up" data-aos-delay="200">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="{% url 'leadership_consultancy' %}">Leadership Consultancy</a></li>
                        <li><a href="{% url 'leadership_coaching' %}">Leadership Coaching</a></li>
                        <li><a href="{% url 'leadership_workshops' %}">Leadership Workshops</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Connect</h3>
                    <ul>
                        <li><a href="https://www.linkedin.com/in/annastacia-wainaina-9bbba33b/"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                        <li><a href="https://www.instagram.com/annastaciawainaina/"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="https://www.facebook.com/annastaciaw"><i class="fab fa-facebook"></i> Facebook</a></li>
                        
                    </ul>
                </div>
            </div>
      
           <div class="footer-bottom">
  <p>
    © <span id="year"></span> Annastacia Wainaina. All Rights Reserved. 
    | Developed by <a href="https://alphacodesolutions.netlify.app" target="_blank" rel="noopener noreferrer" style="color: #F7DF1E; font-weight: 500; text-decoration: none;">AlphaCode Solutions</a>
  </p>
</div>

<script>
  // Auto-update copyright year
  document.getElementById("year").textContent = new Date().getFullYear();

    // Navbar dropdown
document.addEventListener("DOMContentLoaded", () => {
  const dropdown = document.querySelector(".nav-item.dropdown");
  const menu = dropdown.querySelector(".dropdown-menu");
  let closeTimer;

  // Show immediately on hover
  dropdown.addEventListener("mouseenter", () => {
    clearTimeout(closeTimer);
    menu.style.display = "block";
  });

  // Delay hiding when mouse leaves
  dropdown.addEventListener("mouseleave", () => {
    closeTimer = setTimeout(() => {
      menu.style.display = "none";
    }, 400); // delay in ms (here: 0.5s)
  });
});
</script>

        </div>
    </footer>

    <script>
        // Mobile Navigation Toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        

        // Share buttons functionality
        document.querySelectorAll('.share-btn').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const platform = this.querySelector('i').className;
                
                if (platform.includes('twitter')) {
                    window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title + ' ' + window.location.href), '_blank');
                } else if (platform.includes('linkedin')) {
                    window.open('https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(window.location.href), '_blank');
                } else if (platform.includes('facebook')) {
                    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href), '_blank');
                } else if (platform.includes('link')) {
                    navigator.clipboard.writeText(window.location.href);
                    alert('Article link copied to clipboard!');
                }
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>

    <script>
/* CSRF helper from Django docs */
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      cookie = cookie.trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

document.addEventListener('DOMContentLoaded', () => {
  const csrftoken = getCookie('csrftoken');

  // Newsletter forms
  document.querySelectorAll('.newsletter-form').forEach(form => {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const emailInput = form.querySelector('input[name="email"]');
      const email = emailInput.value.trim();
      if (!email) { alert('Please enter your email'); return; }

      const data = new URLSearchParams();
      data.append('email', email);
      data.append('source', window.location.pathname);

      try {
        const res = await fetch('/subscribe/', {
          method: 'POST',
          body: data.toString(),
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
            'X-CSRFToken': csrftoken
          },
          credentials: 'same-origin'
        });
        const json = await res.json();
        if (json.success) {
          alert(json.message || 'Subscribed!');
          form.reset();
        } else {
          alert(json.error || 'Subscription failed.');
        }
      } catch (err) {
        console.error(err);
        alert('Network error — please try again later.');
      }
    });
  });

  // Contact forms
  document.querySelectorAll('.contact-form').forEach(form => {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      // Validate basic client-side
      const required = ['full_name','email','message'];
      for (let r of required) {
        if (!fd.get(r) || fd.get(r).trim() === '') {
          alert('Please fill required fields');
          return;
        }
      }
      try {
        const res = await fetch('/contact/submit/', {
          method: 'POST',
          body: new URLSearchParams(fd),
          headers: {'X-CSRFToken': csrftoken},
          credentials: 'same-origin'
        });
        const json = await res.json();
        if (json.success) {
          alert(json.message || 'Message sent!');
          form.reset();
        } else {
          alert(json.error || 'Failed to send message.');
        }
      } catch (err) {
        console.error(err);
        alert('Network error — please try again later.');
      }
    });
  });
});
</script>

</body>
</html>
